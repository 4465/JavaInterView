# MySql题总结

> Q1:MySQL 的逻辑架构怎么划分

 第⼀层是服务器层，主要提供连接处理、授权认证、安全等功能。 

 第⼆层实现了 MySQL 核⼼服务功能，包括查询解析、分析、优化、缓存以及⽇期和时间等所有内置函 数，所有   跨存储引擎的功能都在这⼀层实现，例如存储过程、触发器、视图等。

 第三层是存储引擎层，存储引擎负责 MySQL 中数据的存储和提取。服务器通过 API 与存储引擎通信， 这些接⼝屏蔽了不同存储引擎的差异，使得差异对上层查询过程透明。除了会解析外键定义的 InnoDB 外，存储引擎不会解析 SQL，不同存储引擎之间也不会相互通信，只是简单响应上层服务器请求。 

> Q2:什么是事务

事务是 ⼀组原⼦性的 SQL 查询， 可以说是 一个最小的不可再分的工作单元 ，具有独立性。 通常一个事务对应一个完整的业务(例如银行账户转账业务，该业务就是一个最小的工作单元) 。一个完整的业务需要批量的DML（update、insert、delete）语句共同联合完成。 如果数据库引擎能够成功地对数据库应⽤ 该组查询的全部语句，那么就执⾏该组查询。如果其中有任何⼀条语句因为崩溃或其他原因⽆法执⾏， 那么所有的语句都不会执⾏。也就是说事务内的语句要么全部执⾏成功，要么全部执⾏失败。  

> Q2:事务有什么特性（事务四大特征，ACID）

- **原⼦性 atomicity **

 ⼀个事务在逻辑上是必须不可分割的最⼩⼯作单元，整个事务中的所有操作要么全部提交成功，要么全 部失败回滚，对于⼀个事务来说不可能只执⾏其中的⼀部分。 (事务是最小单位，不可再分)

- **⼀致性 consistency **

 数据库总是从⼀个⼀致性的状态转换到另⼀个⼀致性的状态（事务的一致性含有对开发者的要求，开发者不能写出错误的事务逻辑，比如银行的转账不能只加钱不减钱，这是应用层面的一致性要求。）。 即事务要求所有的DML( Data Manipulation Language ,数据操纵语言)语句操作的时候，必须保证同时成功或者同时失败 。什么是一致性的状态： 当数据库只包含成功事务提交的结果时，就说数据库处于一致性状态。如果数据库系统运行中发生故障，有些事务尚未完成就被迫中断，这些未完成事务对数据库所做的修改有一部分已写入物理数据库，这时数据库就处于一种不正确的状态，或者说是不一致的状态。 

- **隔离性 isolation **

 针对并发事务⽽⾔，隔离性就是要隔离并发运⾏的多个事务之间的相互影响，⼀般来说⼀个事务所做的修改在最终提交以前，对其他事务是不可⻅的。 

- **持久性 durability **

 ⼀旦事务提交成功，其修改就会永久保存到数据库中，此时即使系统崩溃，修改的数据也不会丢失。 

> Q3: MySQL 的隔离级别有哪些？ 

 SQL标准定义了4类隔离级别，包括了一些具体规则，用来限定事务内外的哪些改变是可见的，哪些是不可见的。低级别的隔离级一般支持更高的并发处理，并拥有更低的系统开销。 

- **未提交读 READ UNCOMMITTE **

