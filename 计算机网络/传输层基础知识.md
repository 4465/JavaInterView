---
typora-root-url: ./
---

# 计算机网络--传输层

[TOC]

## 一、概述

### 1、概念

​		首先只有主机才有传输层和上面的应用层，其他的网络设备，例如中继器路由器什么的，他最多只能到数据链路层。传输层为应用层提供通信服务。同时使用网络层提供的服务。

### 2、功能

1. 传输层提供进程和进程之间的逻辑通信。
2. 复用和分用。（发复收分）
3. 对收到的报文进行差错检测。（首部校验和只是校验头部，并不对数据部分进行校验，数据监测交付给了高层。正是因为网络层检验了数据部分，所以网络层只需要检测头部。）

### 3、传输层协议

#### 1、分类

​		面向连接的传输控制协议TCP和无连接的用户数据包协议UDP。

#### 2、TCP协议

​		传送数据之前必须建立连接，数据传送结束后要释放连接。不提供广播或多播服务。由于TCP要提供可靠的面向连接的传输服务,因此不可避免增加了许多开销:确认、流量控制、计时器及连接管理等。

**特点：**可靠,面向连接,时延大，适用于大文件。

#### 3、UDP协议

​		传送数据之前不需要建立连接,收到UDP报文后也不需要给出任何确认。

不可靠,无连接,时延小,适用于小文件。

#### 4、传输层寻址和端口

##### 1、端口的概念

为实现传输层的 **复用** ，即应用层所有的应用进程都可以通过传输层再传输到网络层，以及 **分用** ，即传输层从网络层收到数据后交付指明的应用进程。于是存在了 **端口号**这一概念。

**端口** 是传输层的SAP，标识主机中的应用进程，他是一种逻辑端口，不同与硬件上的端口的概念。

端口号只有本地意义，在因特网中不同计算机的相同端口是没有联系的。

另外，端口号长度为16bit，能表示65536个不同的端口号。

在网络中采用发送方和接收方的套接字组合来识别端点， **套接字** 唯一标识了网络中的一个主机和它上面的一个进程。**套接字 = （主机IP地址，端口号）**

##### 2、端口分类

- **服务端** 使用端口号
  - 熟知端口号（0~1023）：端口号长度为16bit，能表示65536个不同的端口号。
  - 登记端口号（1024~49151）：
- **客户端** 使用的端口号（49152~65535）：仅在客户进程运行时才动态选择。

##### 3、应用程序及其熟知端口号

| 应用程序   | FTP  | TELNET | SMTP | DNS  | TFTP | HTTP | SNMP |
| ---------- | ---- | ------ | ---- | ---- | ---- | ---- | ---- |
| 熟知端口号 | 21   | 23     | 25   | 53   | 69   | 80   | 161  |

## 二、UDP协议



## 三、TCP协议



